#include <iostream>
#include <limits> // Для использования numeric_limits при проверке ввода

using namespace std;

/**
 * Функция для безопасного ввода числового значения с клавиатуры
 * Параметры:
 *   prompt - приглашение для ввода
 *   errorMsg - сообщение об ошибке при некорректном вводе
 * Возвращает:
 *   Корректное положительное число, введенное пользователем
 */
double getValue(const string& prompt, const string& errorMsg) {
    double value;
    cout << prompt;
    while (!(cin >> value) || value <= 0) {
        cin.clear(); // Сброс флага ошибки ввода
        cin.ignore(numeric_limits<streamsize>::max(), '\n'); // Очистка буфера ввода
        cout << errorMsg;
    }
    return value;
}

/**
 * Функция для вычисления длины второй стороны прямоугольника
 * Параметры:
 *   a - длина первой стороны
 *   n - коэффициент в процентах
 * Возвращает:
 *   Длину второй стороны (n% от a)
 */
double calculateSideB(double a, double n) {
    return (n / 100) * a; // Перевод процентов в десятичную дробь и вычисление
}

/**
 * Функция для вычисления площади прямоугольника
 * Параметры:
 *   a - длина первой стороны
 *   b - длина второй стороны
 * Возвращает:
 *   Площадь прямоугольника
 */
double calculateArea(double a, double b) {
    return a * b;
}

/**
 * Функция для вычисления периметра прямоугольника
 * Параметры:
 *   a - длина первой стороны
 *   b - длина второй стороны
 * Возвращает:
 *   Периметр прямоугольника
 */
double calculatePerimeter(double a, double b) {
    return 2 * (a + b);
}

int main() {
    // Ввод длины стороны a с использованием функции getValue()
    double a = getValue(
        "Введите длину стороны a (должно быть положительным числом): ",
        "Ошибка! Введите положительное число для a: "
    );

    // Ввод коэффициента n с использованием функции getValue()
    double n = getValue(
        "Введите коэффициент n (в %, например, 50 для 50%): ",
        "Ошибка! Введите положительное число для n: "
    );

    // Вычисление второй стороны b
    double b = calculateSideB(a, n);

    // Вычисление площади и периметра
    double area = calculateArea(a, b);
    double perimeter = calculatePerimeter(a, b);

    // Вывод результатов
    cout << "\nРезультаты вычислений:" << endl;
    cout << "Длина стороны a: " << a << endl;
    cout << "Длина стороны b (n% от a): " << b << endl;
    cout << "Площадь прямоугольника: " << area << endl;
    cout << "Периметр прямоугольника: " << perimeter << endl;

    return 0; // Завершение программы
}
